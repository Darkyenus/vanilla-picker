<!DOCTYPE html>

<html>

<head>
    <title>vanilla-picker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="../dist/vanilla-picker.min.js"></script>

    <style>
        * {
            padding: 0;
            margin: 0;
        }
        
        body {
            min-height: 100vh;
            font-family: Georgia, sans-serif;
            background-color: white;
            background-image: repeating-linear-gradient( 0deg, skyblue 0, skyblue 1px, transparent 0, transparent 20px),
                              repeating-linear-gradient(90deg, skyblue 0, skyblue 1px, transparent 0, transparent 20px);
        }
        
        h1 {
            text-align: center;
        }
        
        #main-color {
            position: absolute;
            border: 4px dashed tomato;
        }
        #main-color .picker_sample, #main-color .picker_done {
            display: none;
        }

        .popup-parent {
            position: absolute;
            background: dodgerblue;
            color: white;
            padding: 10px 16px;
            width: 100px;
            font-family: sans-serif;
            font-weight: 100;
            font-size: 20px;
            text-align: center;
        }
        
        @media(max-width: 500px) {
            .picker_wrapper {
                font-size: 7px;
            }
        }
        
        
        /* //DEBUG
        .picker_hue {
            background: none;
        }
        .picker_hue::before {
            content:  '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);
            outline: 1px solid silver;
        }
        */
        
    </style>
</head>

<body>
    <h1><a href="https://github.com/Sphinxxxx/vanilla-picker">vanilla-picker</a> demo</h1>

    <div id="main-color" style="top:3em;right:1em"></div>

    <div class="popup-parent" style="top:45%;left:1em;">
        Click me
    </div>

    <div class="popup-parent" style="bottom:20%;left:20%;">
        ..or me!
        <select onclick="event.stopPropagation();">
            <option selected>top</option>
            <option>bottom</option>
            <option>left</option>
            <option>right</option>
        </select>
    </div>


    <script>
        new Picker({
            parent: document.querySelector('#main-color'),
            color: '#cef6',
            alpha: false,
            popup: false,
            onChange: function(color) {
                document.body.style.backgroundColor = color.rgbaString;
            },
        });

        var parents = Array.prototype.slice.call(document.querySelectorAll('.popup-parent'));
        parents.forEach(function(p, i) {

            var picker = new Picker(p);
            if(i === 0) {
                picker.setColor('#dbeb');
                picker.show();
            }
            picker.onDone = function(color) {
                p.style.background = color.rgbaString;
            };
            
            p.onclick = function() {
                var pos = p.querySelector('select');
                if(pos) {
                    picker.setOptions({
                        popup: pos.value,
                    });
                }
                picker.show();
            };
        });
    </script>

</body>

</html>